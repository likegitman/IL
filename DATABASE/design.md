# Design

# 개념적 설계-개체 관계 모델
> KEYWORD
> 1. 데이터베이스 설계 5단계
> 2. 데이터 모델링과 데이터 모델
> 3. 개체-관계 모델과 개체 관계 다이어그램
> 4. 논리적 데이터 모델링

## 0. 데이터베이스 설계

### 데이터 베이스 설계란?
>데이터베이스를 사용할 사용자들의 요구 사항을 고려하여 데이터베이스를 생성하는 과정

### 데이터베이스 설계 방법
* E-R 모델 & 릴레이션 변환 규칙 방법
* 정규화 방법

> 데이터의 일관성 & 데이터의 무결성 & 사용자의 요구사항 만족하는DB

> 데이터베이스 설계 과정

|단계|과정|  
|------|---|  
|1단계|요구 사항 분석|  
|2단계|개념적 설계|  
|3단계|논리적 설계|  
|4단계|물리적 설계|  
|5단계|구현|  

### 요구 사항 분석
> 데이터베이스를 사용하는 사용자들의 요구 사항을 분석하는 단계
> 사용자 예시: 고객, 고객관리팀, 배송관리팀, SW개발자
> 1. 데이터 베이스 사용 용도 파악
> 2. `요구 사항 명세서` 작성

### 개념적 설계-개념적 데이터 모델링
> 요구사항명세서를 바탕으로 요구 사항을 개념적 데이터 모델로 만드는 단계

#### 개념적 데이터 모델링
> 요구사항 명세서를 `E-R 다이어그램`으로 변환하는 과정

#### 방법(도구): 개념적 데이터 모델
> 요구사항에서 나타난 데이터 요소들을 정의하고, 데이터 요소들간의 관계를 표현
> 할 때 사용한다. DBMS의 종류에 상관없이 독립적을 존재한다.
> 대표적으로 E-R 모델을 사용한다.

#### 개념적 스키마(구조)
> 개념적 모델링한 결과물(E-R 다이어그램)

### 논리적 설계-논리적 데이터 모델링
> 개념적 스키마를 기반으로 데이터베이스의 논리적 구조를 설계하는 단계

#### 논리적 데이터 모델링
> E-R 다이어그램을 릴레이션(테이블) 스키마로 변환하는 과정

#### 방법(도구): 논리적 데이터 모델
> 개발에 사용할 DBMS 구조에 따라 달라진다. 
> Oracle DBMS에서는 관계 데이터 모델을 사용한다.
> 관계데이터모델: 표(테이블) 모양

#### 논리적 스키마(구조)
> 논리적 모델링한 결과물(릴레이션, 테이블)

### 물리적 설계
> 개념적 스키마를 기반으로 데이터베이스의 물리적 구조를 설계하는 단계
> 물리적 구조: 데이터베이스를 저장 장치에 실제로 저장하기 위한 내부 저장 구조와
> 접근 경로 등을 의미

#### 물리적 설계 단계
> 1. 저장 장치에 적합한 저장 레코드와 인덱스 구조 설계
> 2. 저장 된 데이터와 인덱스에 빠르게 접근할 수 있는 탐색 기법 정의
> 3. 응답시간을 최소화하고 저장공간을 효율적으로 활용하는 방법 정의

#### 물리적 스키마(구조)
> 물리적 모델링한 결과물

### 구현
> 개념적 설계 - 논리적 설계 - 물리적 설계의 결과물을 기반으로 DBMS에서 데이터베이스를 생성한다.

#### 단계별 결과물
|단계|과정|결과물|  
|------|---|---|
|1단계|요구 사항 분석|데이터베이스의 용도 파악 -> 요구사항 명세서|  
|2단계|개념적 설계|DBMS에 독립적인 개념적 구조 설계 -> 개념적 스키마(E-R 다이어그램)|
|3단계|논리적 설계|DBMS에 적합한 논리적 구조 설계 -> 논리적 스키마(릴레이션 스키마)|
|4단계|물리적 설계|DBMS로 구현 가능한 물리적 구조 설계 -> 물리적 스키마|
|5단계|구현|SQL문을 작성한 후 이를 DBMS에서 실행하여 데이터베이스 생성| 

## 1. 데이터 모델링과 데이터
### 데이터 모델링
> 현실 세계에 존재하는 데이터를 컴퓨터 세계의 DB로 옮기는 변환 과정

### 코끼리를 컴퓨터에 넣는 방법
#### 추상화
> 현실의 코끼리를 컴퓨터가 이해할 수 있는, 접근할 수 있도록 추상화 해야 한다.
> 사람 머릿속의 코끼리에 대한 특징을 찾아 개념 세계로 옮기는 단계와
> 이를 컴퓨터 세계에 저장하는 구조를 결정해서 표현해야 한다.
> 현실의 코끼리를 ‘표’형태로 저장하기로 결정

#### 개념적 데이터 모델링
> 현실 세계의 코끼리의 중요 데이터를 추출하여 개념 세계로 표현하는 작업

#### 논리적 데이터 모델링
> 개념 세계의 데이터를 컴퓨터에 어떻게 저장할 것인지 결정하고 이 구조로 표현하는 작업

### 데이터 모델
> 데이터 모델링의 결과물을 표현하는 도구

#### 개념적 데이터 모델
> 현실 속의 실체를 개념적으로 표현할 수 있도록 도와주는 도구

#### 논리적 데이터 모델
> 현실 속의 실체를 개념적 도구를 통해 표현된 결과물을 컴퓨터에 저장할 수 있도록
  도와주는 도구

#### 데이터 모델
* Data Structure 데이터 구조
> 현실 세계의 개체를 어떤 모습으로 표현할 것인지 표현 도구
> 자주 변하지 않고 정적이다.

* Constraint 제약 조건 

* Operation 연산
> 데이터 구조에 따라 표현된 데이터 값을 조작하는 방법
> 연산에 의해 데이터가 변화한다.
> 데이터 구조와 연산을 적용할 때 허용할 수 있는 범위를 정의

#### 개념적 설계 VS 논리적 설계
||개념적 설계|논리적 설계|
|------|---|---|
|정의|요구사항명세서를 바탕으로 요구 사항을 개념적 데이터 모델로 만드는 단계|개념적 스키마를 기반으로 데이터베이스의 논리적 구조를 설계하는 단계|
|모델(방법론, 도구)|E-R 모델을 사용한다.| 개발에 사용할 DBMS 구조에 따라 달라진다. Oracle DBMS에서는 관계 데이터 모델을 사용한다.관계데이터모델: 표(테이블) 모양|
|결과물(스키마)|E-R 다이어그램|릴레이션, 테이블|

### 데이터 모델링 사례
#### 아파트를 짓는다!
1. 개념적 데이터 모델링: 설계도를 작성하는 것
2. 논리적 데이터 모델링: 설계도에 따라 모델하우스를 만드는 것

## 2. 개념적 데이터 모델-> E-R모델 (개체-관계 모델)
> 현실 세계의 개체를 개념적 구조로 표현하는 방법론

### 개체 Entity
> 현실 세계의 조직서비스를 운영하는 데 꼭 필요한 요소
> 저장할 만한 중요 데이터를 가지고 있는 사람 / 사물 / 개념 / 사건
> → 물리적으로 존재하지 않는 개념도 개체가 될 수 있다 !

#### 학급을 데이터베이스로 운영한다면, 개체가 될 수 있는 것들
* 학생
* 교사
* 학과
* 과목
* 학년

#### 조건
* 다른 개체와 구별되는 고유한 이름
* 고유한 특성(속성)을 하나 이상 가짐
* 요구사항명세서에서 `명사`에 해당하는 것이 개체가 된다.

#### 개체 타입 Entity Type
> 개체를 고유한 이름과 속성들로 정의한 것
`고객(이름, 주소, 연락처, 적립금)`

#### 개체 인스턴스 Entity Instance
> 개체를 구성하고 있는 속성이 실제 값을 가짐으로 실체화된 개체
`<김땡땡, □□시 □□구,032-666-6666, 2000>`
`<이깽깽, ＠@시 @@구,02-111-1111, 1000>`
`<박땅땅, &&시 &&구,02-555-5555, 0>`

#### 개체 집합 Entity Set
> 개체 인스턴스의 집합

#### 개체 E-R다이어그램
> 사각형 안에 개체 이름

### 관계 Relationship
> `개체와 개체`가 맺고 있는 의미 있는 연관성,
개체와 개체 사이의 `대응 관계, Mapping`을 의미
