# CPU

컴퓨터의 두뇌 역할을 하고 Center Processing Unit의 약자로 중앙 처리 장치라고 부른다.  
신호츨 처리하며 컴퓨팅을 가능하게 하는 기본 하드웨어 요소이다.  
메모리에서 명령을 가져와 필요한 작업을 수행하고 다시 메모리로 출력을 보낸다.  
더불어 운영체제 및 애플리케이션을 실행하는데에 필요한 모든 컴퓨팅 작업을 처리한다.

## CPU 쿨럭 및 속도

CPU가 동작하는 속도를 측정하는 단위로 현대 CPU에서는 Ghz(기가헤르츠) 단위를 사용한다.  
예시로 3.5Ghz는 1초에 35억 번의 사이클을 수행할 수 있는 속도이다.  
주파수의 진동 단위인데 개발에서는 수치가 높을 수록 코드를 더 빠르게 실행할 수 있다.  
단일 코어로는 4Ghz 이상을 가지 못하여 병렬로 늘렸다. 그래서 클럭 속도보다 CPU 갯수로 수요를 커버한다.

## 대표적인 CPU 제조사

### Intel

가장 대표적인 CPU 제조사이다.
PC용으로 가장 많이 사용하며 Intel에 맞춰 개발된 소프트웨어들이 오래되고 다양한 분야에서 검증되었다.

**아키텍처: x86 아키텍처**

### AMD (암드)

Intel의 x86 아키텍처의 호환 CPU를 만드는 제조사이다.  
Intel과 협력 및 경쟁하는 회사이다.
Intel과 기술 특허를 서로 교환하며 라이센스 계약을 체결해하고 있다.

아키텍처 x86_64

### ARM
ARM은 x86과 완전히 다른 아키텍처를 사용한다. 그래서 ARM과 x86은 절대 호환될 수 없다.  
과거에는 단순한 아키텍처와 저렴한 가격을 갖추어 소형기기에 많이 사용되었다.  
하지만 스마트폰 시대가 오면서 많은 성장을 이뤄냈고 속도 면에서는 PC에 근접한 수준에 이르렀다.  
속도는 빠르면서 저렴한 가격과 저전력은 유지하였고 때문에 PC용 ARM을 사용하는 시도가 많아졌다.  
AWS의 Graviton이라는 인스턴스와 Apple의 M-시리즈가 나오며 서버와 PC시장에 불을 지폈다.  
ARM CPU를 만드는 회사는 있지만 누구든 능력만 있다면 ARM을 기반으로 하는 칩을 커스텀 할 수 있다.  
Intel 호환은 만드는 AMD와 비슷하다 볼 수 있지만 위에서 말했듯 두 회사는 라이센스 계약을 체결해 두 회사만이 제조를 할 수 있다는 차이점이 있다.

**그래서 M-시리즈의 칩들은 ARM 회사가 아닌 Apple이 만든 ARM 호환 CPU이다.**

## 아키텍처 종류

CPU 아키텍처는 CPU가 명령을 해석 및 실행하는 방법을 정의한다.

### x86
Intel 기반 32bit CPU이다.  
Intel이 처음 도입한 8086에서 발전하여 32bit와 64bit로 확장됐다.  
복잡한 명령어 집합 컴퓨팅을 사용하여 여러 단계를 거쳐 작업이 실행된다.  
현대 PC 프로그램 대부분이 x86 아키텍처를 사용한다.  
ex) Windows, Mac OS, Linux, BigSur

### x86_64
amd64라고도 한다.
위에서 설명한 64bit CPU로 x86과 호환되는 아키텍처이다.  
AMD가 제조했지만 Intel과 라이센스를 체결하여 둘 다 사용한다.
ex) Linux, Mac OS, BitSur

### arm
ARM 기반의 32bit CPU이다.
모바일 기기같은 소형기기에 주로 사용되며 임베디드 시스템에서 널리 사용되는 CPU이다.  
낮은 전력 소비로 유명한데 이 덕분에 배터리 수명이 중요한 모바일 기기, 태블릿 등에 적합하다.  
x86과 달리 단순한 명령어 집합 설계를 따라 명령어가 단순하고 빠르게 실행되도록 설계되어 있다.  
x86과 완전히 다르기 때문에 호환이 되지 않는다.  
ex) Linux, Mac OS, Android, iOS, 등의 모든 소형기기

### arm64
arm 기반 64bit CPU이다.  
amd64와 비슷하게 32bit arm과 호환된다.  
ex) Linux, Mac OS, Android, iOS 등의 모든 소형기기

## 모바일 앱이 PC에서 돌아가지 않던 이유
모바일 앱은 ARM 아키텍처이고 PC는 M-시리즈를 제외한다면 모두 Intel 기반 CPU이다.  
실행이 안 되며 된다고 하는 것들이 있다면 에뮬레이터를 쓴것일 것이다.  
에뮬레이터란 소프트웨어, 하드웨어를 다른 환경에서 동작할 수 있도록 하는 프로그램이나 장치


만약 M-시리즈 PC라면 에뮬레이터 없이 iOS 앱이 잘 동작한다.  
Android는 운영체제의 문제라 Android 에뮬레이터를 사용해야 한다.

## 컴파일 머신의 CPU는 결과물의 아키텍처
컴퓨터의 프로그램이란 스크립트 언어를 제외하면 컴파일 된 바이너리이다.  
컴파일을 어떤 CPU로 했는지에 따라 결과물이 정해지는데 x86 머신에서 빌드한 라이브러리는 arm 머신에 가져오면 실행이 되지 않는다. ( 반대도 마찬가지 )  
하지만 당연히 x86_64에서는 사용이 가능하다. x86과 호환되는 아키텍처이기에.  
이렇게 대부분 Intel이 아니라 ARM도 많이 있기에 라이브러리를 실행할 서버의 아키텍처를 알아야한다.